<template>
    <require from="./Repositories.scss"></require>
    <section class="github-repositories-page">
        <section class="page-content acrylic">
            <h1>GitHub Repositories:</h1>
            <form if.bind="successMessage" action="/GitHub/Repositories/" method="GET">
                <button type="submit" class="call-to-action" style="width:100%">${successMessage}</button>
            </form>
            <form if.bind="errorMessage" action="/GitHub/Repositories/" method="GET">
                <button type="submit" class="alert" style="width:100%">${errorMessage}</button>
            </form>
            <hr />
            <section>
                <p repeat.for="repository of repositories">
                    <svg width="16" height="16" fill="white" style="position:relative; top:3pt;">
                        <path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path>
                    </svg>
                    ${repository}
                </p>
            </section>
            <hr />
            <form action="https://github.com/apps/continuous-improvement/installations/new" method="GET" style="display:inline-block">
                <button type="submit" class="call-to-action">Give access to GitHub repositories</button>
            </form>
            <form style="display:inline-block">
                <button type="button" click.delegate="triggerUpdate($event)">Trigger an update of the list</button>
            </form>
            <form style="display:inline-block">
                <button type="button" click.delegate="selectInstallations($event)">Select installations to use</button>
            </form>
        </section>
    </section>
</template>